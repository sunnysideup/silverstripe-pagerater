if(0<jQuery("#Form_PageRatingForm").length){jQuery(document).ready(function(){PageRater.init();PageRater.extraFormInit()});var PageRater={formSelector:"#Form_PageRatingForm",submitButtonSelector:".Actions input",loadingMessage:"saving ...",loadingClass:"loading",starSelectedIdentifier:".star-rating-on",reminderMessage:"Please make sure that you select a rating from one to five stars",extraFormSelector:"",set_extra_form_selector:function(a){this.extraFormSelector=a},has_extra_form_selector:function(a){return this.extraFormSelector?
!0:!1},init:function(){if("undefined"!==typeof PageRaterVariables)for(var a=0;a<PageRaterVariables.length;a++){var b=PageRaterVariables[a];PageRater.formSelector="#"+jQuery("input."+b.id).closest("form").attr("id");jQuery(PageRater.formSelector+" "+PageRater.submitButtonSelector).hide();var c=b.fields;jQuery("input."+b.id).rating({required:!0,callback:function(a,e){jQuery(PageRater.formSelector).addClass("addingDetails");jQuery("#"+b.id).val(a);for(var d=0;d<c.length;d++)jQuery("#"+c[d]).attr("required",
"required").fadeIn();jQuery(PageRater.formSelector+" "+PageRater.submitButtonSelector).fadeIn()}});jQuery(PageRater.formSelector+" "+PageRater.submitButtonSelector).click(function(){jQuery(PageRater.formSelector).ajaxSubmit(PageRater.getFormOptions());return!1})}},extraFormInit:function(){PageRater.has_extra_form_selector()&&jQuery(PageRater.formSelector).length&&(jQuery(PageRater.submitButtonSelector).hide(),jQuery(PageRater.extraFormSelector).submit(function(){jQuery(PageRater.formOptions.target).ajaxSubmit(PageRater.formOptions);
return!1}))},getFormOptions:function(){return{target:PageRater.formSelector,beforeSubmit:function(a,b,c){if(!jQuery(PageRater.starSelectedIdentifier).length)return alert(PageRater.reminderMessage),!1;jQuery(PageRater.formSelector).text(PageRater.loadingMessage).addClass(PageRater.loadingClass);jQuery(PageRater.extraFormSelector).addClass(PageRater.loadingClass);return!0},success:function(a,b){jQuery(this.target).html(a);jQuery(PageRater.formSelector).removeClass(PageRater.loadingClass);jQuery(PageRater.extraFormSelector).unbind("submit").submit()}}}}};
